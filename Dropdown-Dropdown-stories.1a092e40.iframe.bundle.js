/*! For license information please see Dropdown-Dropdown-stories.1a092e40.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_enterprise_cmcs_macpro_ux_lib=self.webpackChunk_enterprise_cmcs_macpro_ux_lib||[]).push([[304],{"./src/components/Dropdown/Dropdown.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Dropdown_stories});var react=__webpack_require__("./node_modules/react/index.js"),DropdownInput=__webpack_require__("./src/components/DropdownInput/DropdownInput.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Dropdown=({className,data,id,label,onChange,name,placeholder,readOnly=!1,setValue,value,...rest})=>(void 0===value&&void 0===setValue&&([value,setValue]=(0,react.useState)("")),(0,jsx_runtime.jsx)("div",{className,children:(0,jsx_runtime.jsx)(DropdownInput.f,{data,id,label,readOnly,setValue:onChange||setValue,value,children:(0,jsx_runtime.jsxs)("select",{"aria-hidden":!0,className:"usa-select usa-sr-only usa-combo-box__select",name,onChange:e=>setValue&&setValue(e.target.value),tabIndex:-1,value,...rest,children:[(0,jsx_runtime.jsx)("option",{value:void 0}),data.map(((itm,idx)=>(0,jsx_runtime.jsx)("option",{value:itm.value,children:itm.displayString},itm.value)))]})})}));Dropdown.displayName="Dropdown";try{Dropdown.displayName="Dropdown",Dropdown.__docgenInfo={description:"Dropdown component\n\nThis component is a wrapper around the HTML `<select>` element and provides the basic functionality of a dropdown along with accessibility and styling.\nA key enhancement to the standard dropdown is the ability for a user to type to search for an option.",displayName:"Dropdown",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"DropdownData[]"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"ChangeEventHandler<HTMLSelectElement>"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},setValue:{defaultValue:null,description:"",name:"setValue",required:!1,type:{name:"Dispatch<any>"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dropdown/Dropdown.tsx#Dropdown"]={docgenInfo:Dropdown.__docgenInfo,name:"Dropdown",path:"src/components/Dropdown/Dropdown.tsx#Dropdown"})}catch(__react_docgen_typescript_loader_error){}var data=__webpack_require__("./src/components/DropdownInput/data.json");const Dropdown_stories={title:"COMPONENTS/Dropdown",component:Dropdown,args:{data},argTypes:{className:{description:"A class name that will be applied on the component wrapper `div`.",type:{name:"string"}},data:{control:!1,description:"An array of objects used to populate the dropdown. Each object should appear as follows:\n\n `{ value : string | number, displayString: string }`"},id:{description:"The id of the dropdown",type:{name:"string",required:!0}},label:{description:"String used to label the dropdown in the UI."},name:{description:"Name of the dropdown used to identify it in the context of a form.",type:{name:"string",required:!0}},readOnly:{description:"Sets input field to read-only. Effectively disables type-ahead search."},setValue:{description:"Optionally manage state in this component from a parent by passing state params to `value` and `setValue`",control:!1},value:{description:"Optionally manage state in this component from a parent by passing state params to `value` and `setValue`",control:!1}}},Template=({...rest})=>{const[value,setValue]=(0,react.useState)("");return(0,jsx_runtime.jsx)(Dropdown,{...rest,value,setValue})};Template.displayName="Template";const Default=Template.bind({});Default.args={id:"fruit",label:"Select a fruit",name:"fruit-dropdown"},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'({\n  ...rest\n}) => {\n  const [value, setValue] = useState("");\n  return <Dropdown {...rest} value={value} setValue={setValue} />;\n}',...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"./src/components/DropdownInput/DropdownInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>DropdownInput});var _Icon_Icon__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/Icon/Icon.tsx"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const DropdownInput=({className,children,data,id,label,placeholder,readOnly=!1,setValue,value})=>{const[activeDescendant,setActiveDescendant]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[dropdownData,setDropdownData]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(data),[hidden,setHidden]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!0),[inputValue,setInputValue]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");void 0===value&&void 0===setValue&&([value,setValue]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""));const closeDropdown=()=>{setHidden(!0),setActiveDescendant("")},handleItemClick=itemValue=>{setValue&&setValue(itemValue),closeDropdown()};return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setInputValue((()=>{const obj=data.find((itm=>itm.value===value));return obj?.displayString??""})()),setDropdownData(data)}),[value,data]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label",{className:"usa-label",htmlFor:id,id:`${id}-label`,children:label}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:`usa-combo-box${value||inputValue?" usa-combo-box--pristine":""}${className?` ${className}`:""}`,"data-enhanced":"true",onBlur:e=>(e=>{if(!hidden){const currentTarget=e.currentTarget;requestAnimationFrame((()=>{currentTarget.contains(document.activeElement)||closeDropdown()}))}})(e),children:[children,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{"aria-activedescendant":activeDescendant,"aria-autocomplete":"list","aria-controls":`${id}--list`,"aria-describedby":`${id}--assistiveHint`,"aria-expanded":"false","aria-owns":`${id}--list`,autoCapitalize:"none",autoComplete:"off",className:"usa-combo-box__input",id,onChange:e=>(inputValue=>{setInputValue(inputValue),setDropdownData(data.filter((itm=>{const displayStr=itm.displayString.toLowerCase(),searchString=inputValue.toLowerCase();return displayStr.includes(searchString)})))})(e.target.value),onFocus:()=>setHidden(!1),onKeyDown:e=>{"ArrowDown"===e.key&&(e.preventDefault(),(()=>{const selectedElement=document.getElementsByClassName("usa-combo-box__list-option--selected")[0],firstElement=document.getElementsByClassName("usa-combo-box__list-option")[0],elem=selectedElement??firstElement;elem&&(elem.focus(),setActiveDescendant(elem.id))})())},placeholder,type:"text",readOnly,role:"combobox",value:inputValue}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"usa-combo-box__clear-input__wrapper",tabIndex:-1,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{hidden:!value,type:"button",className:"usa-combo-box__clear-input","aria-label":"Clear the select contents",onClick:()=>{setValue&&setValue("")},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_0__.J,{name:"close"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"usa-combo-box__input-button-separator",children:"Â "}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"usa-combo-box__toggle-list__wrapper",tabIndex:-1,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{type:"button",tabIndex:-1,className:"usa-combo-box__toggle-list","aria-label":"Toggle the dropdown list",onClick:()=>setHidden(!hidden),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_Icon_Icon__WEBPACK_IMPORTED_MODULE_0__.J,{name:"expand_more"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("ul",{tabIndex:-1,id:`${id}--list`,className:"usa-combo-box__list",role:"listbox","aria-labelledby":`${id}-label`,hidden,children:dropdownData.map(((item,index)=>{const itemId=`${id}--option-${index}`;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DropdownItem,{activeDescendant,data,handleItemClick,index,item,itemId,key:itemId,setActiveDescendant,value})}))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"usa-combo-box__status usa-sr-only",role:"status",children:!hidden&&`${data.length} results available.`}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{id:`${id}--assistiveHint`,className:"usa-sr-only",children:"When autocomplete results are available use up and down arrows to review and enter to select. Touch device users, explore by touch or with swipe gestures."})]})]})},DropdownItem=({activeDescendant,data,handleItemClick,index,item,itemId,setActiveDescendant,value})=>{const[ref,setFocus]=(()=>{const htmlElRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);return[htmlElRef,()=>{htmlElRef.current.focus()}]})(),selected=item.value===value;let focused=!1;itemId===activeDescendant||!activeDescendant&&selected?focused=!0:activeDescendant||value||0!==index||(focused=!0);let tabIndex=-1;activeDescendant&&focused?tabIndex=0:activeDescendant||0!==index||(tabIndex=0);const handleKeyDown=e=>{switch(e.preventDefault(),e.key){case"Tab":case"Enter":handleItemClick(item.value);break;case"ArrowDown":case"ArrowUp":(arrow=>{const currentElement=document.getElementsByClassName("usa-combo-box__list-option--focused")[0];let elemToFocus;"ArrowDown"===arrow?elemToFocus=currentElement.nextElementSibling:"ArrowUp"===arrow&&(elemToFocus=currentElement.previousElementSibling),elemToFocus&&(elemToFocus.focus(),setActiveDescendant(elemToFocus.id))})(e.key)}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("li",{"aria-setsize":data.length,"aria-posinset":index+1,"aria-selected":"false",className:`usa-combo-box__list-option${focused?" usa-combo-box__list-option--focused":""}${selected?" usa-combo-box__list-option--selected":""}`,"data-value":item.value,id:itemId,ref,tabIndex,role:"option",onClick:()=>handleItemClick(item.value),onKeyDown:e=>handleKeyDown(e),onMouseOver:()=>{setActiveDescendant(itemId),setFocus()},children:item.displayString})};DropdownItem.displayName="DropdownItem";try{DropdownInput.displayName="DropdownInput",DropdownInput.__docgenInfo={description:"Dropdown component\n\nThis component is a wrapper around the HTML `<select>` element and provides the basic functionality of a dropdown along with accessibility and styling.\nA key enhancement to the standard dropdown is the ability for a user to type to search for an option.",displayName:"DropdownInput",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"DropdownData[]"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},setValue:{defaultValue:null,description:"",name:"setValue",required:!1,type:{name:"Dispatch<any>"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DropdownInput/DropdownInput.tsx#DropdownInput"]={docgenInfo:DropdownInput.__docgenInfo,name:"DropdownInput",path:"src/components/DropdownInput/DropdownInput.tsx#DropdownInput"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Icon/Icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>Icon});__webpack_require__("./node_modules/react/index.js");const sprite_namespaceObject=__webpack_require__.p+"static/media/sprite.b17a73c3.svg";var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Icon=({name,iconSize=3,role="img",ariaHidden=!0,ariaLabel,color="black",className,...rest})=>{const iconName=name.replace(/_/g," ");return(0,jsx_runtime.jsx)("svg",{"aria-label":ariaLabel||`${iconName} icon`,className:`usa-icon--size-${iconSize}${className?` ${className}`:""}`,"aria-hidden":ariaHidden,role,fill:"currentColor",color,...rest,children:(0,jsx_runtime.jsx)("use",{href:`${sprite_namespaceObject}#${name}`})})};Icon.displayName="Icon";try{Icon.displayName="Icon",Icon.__docgenInfo={description:"Icon Component",displayName:"Icon",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},iconSize:{defaultValue:{value:"3"},description:"",name:"iconSize",required:!1,type:{name:"enum",value:[{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"}]}},ariaHidden:{defaultValue:{value:"true"},description:"",name:"ariaHidden",required:!1,type:{name:"boolean"}},role:{defaultValue:{value:"img"},description:"",name:"role",required:!1,type:{name:"string"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string"}},color:{defaultValue:{value:"black"},description:"",name:"color",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Icon/Icon.tsx#Icon"]={docgenInfo:Icon.__docgenInfo,name:"Icon",path:"src/components/Icon/Icon.tsx#Icon"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var f=__webpack_require__("./node_modules/react/index.js"),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,g){var b,d={},e=null,h=null;for(b in void 0!==g&&(e=""+g),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(h=a.ref),a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l,exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")},"./src/components/DropdownInput/data.json":module=>{module.exports=JSON.parse('[{"value":"apple","displayString":"Apple"},{"value":"apricot","displayString":"Apricot"},{"value":"avocado","displayString":"Avocado"},{"value":"banana","displayString":"Banana"},{"value":"blackberry","displayString":"Blackberry"},{"value":"blood orange","displayString":"Blood orange"},{"value":"blueberry","displayString":"Blueberry"},{"value":"boysenberry","displayString":"Boysenberry"},{"value":"breadfruit","displayString":"Breadfruit"},{"value":"buddhas hand citron","displayString":"Buddha\'s hand citron"},{"value":"cantaloupe","displayString":"Cantaloupe"},{"value":"clementine","displayString":"Clementine"},{"value":"crab apple","displayString":"Crab apple"},{"value":"currant","displayString":"Currant"},{"value":"cherry","displayString":"Cherry"},{"value":"custard apple","displayString":"Custard apple"},{"value":"coconut","displayString":"Coconut"},{"value":"cranberry","displayString":"Cranberry"},{"value":"date","displayString":"Date"},{"value":"dragonfruit","displayString":"Dragonfruit"},{"value":"durian","displayString":"Durian"},{"value":"elderberry","displayString":"Elderberry"},{"value":"fig","displayString":"Fig"},{"value":"gooseberry","displayString":"Gooseberry"},{"value":"grape","displayString":"Grape"},{"value":"grapefruit","displayString":"Grapefruit"},{"value":"guava","displayString":"Guava"},{"value":"honeydew melon","displayString":"Honeydew melon"},{"value":"jackfruit","displayString":"Jackfruit"},{"value":"kiwifruit","displayString":"Kiwifruit"},{"value":"kumquat","displayString":"Kumquat"},{"value":"lemon","displayString":"Lemon"},{"value":"lime","displayString":"Lime"},{"value":"lychee","displayString":"Lychee"},{"value":"mandarine","displayString":"Mandarine"},{"value":"mango","displayString":"Mango"},{"value":"mangosteen","displayString":"Mangosteen"},{"value":"marionberry","displayString":"Marionberry"},{"value":"nectarine","displayString":"Nectarine"},{"value":"orange","displayString":"Orange"},{"value":"papaya","displayString":"Papaya"},{"value":"passionfruit","displayString":"Passionfruit"},{"value":"peach","displayString":"Peach"},{"value":"pear","displayString":"Pear"},{"value":"persimmon","displayString":"Persimmon"},{"value":"plantain","displayString":"Plantain"},{"value":"plum","displayString":"Plum"},{"value":"pineapple","displayString":"Pineapple"},{"value":"pluot","displayString":"Pluot"},{"value":"pomegranate","displayString":"Pomegranate"},{"value":"pomelo","displayString":"Pomelo"},{"value":"quince","displayString":"Quince"},{"value":"raspberry","displayString":"Raspberry"},{"value":"rambutan","displayString":"Rambutan"},{"value":"soursop","displayString":"Soursop"},{"value":"starfruit","displayString":"Starfruit"},{"value":"strawberry","displayString":"Strawberry"},{"value":"tamarind","displayString":"Tamarind"},{"value":"tangelo","displayString":"Tangelo"},{"value":"tangerine","displayString":"Tangerine"},{"value":"ugli fruit","displayString":"Ugli fruit"},{"value":"watermelon","displayString":"Watermelon"},{"value":"white currant","displayString":"White currant"},{"value":"yuzu","displayString":"Yuzu"}]')}}]);