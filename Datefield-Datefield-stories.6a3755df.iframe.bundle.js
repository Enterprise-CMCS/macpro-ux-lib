"use strict";(self.webpackChunk_enterprise_cmcs_macpro_ux_lib=self.webpackChunk_enterprise_cmcs_macpro_ux_lib||[]).push([[908],{"./src/components/Datefield/Datefield.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultDatefield:()=>DefaultDatefield,MaximumDateField:()=>MaximumDateField,MinimumDateField:()=>MinimumDateField,PrimaryDatefield:()=>PrimaryDatefield,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _Datefield__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Datefield/Datefield.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"COMPONENTS/Datefield",component:_Datefield__WEBPACK_IMPORTED_MODULE_1__.t,argTypes:{id:{description:"A unique identifier for the input."},name:{description:"Name of the input field."},label:{description:"Field label."},hint:{description:"Boolean that shows or hide the date format hint, in the format mm/dd/yyyy."},disabled:{description:"Controls whether or not the date picker is disabled to the user."},minDate:{description:"The date picker will not allow a date selection before this date. The date should be in the format mm/dd/yyyy.",control:{type:"text"}},maxDate:{description:"The date picker will not allow a date selection after this date. The date should be in the format mm/dd/yyyy.",control:{type:"text"}},value:{description:"Value of the input element."},required:{description:"The date picker component will be required in terms of native form validation."}},args:{},parameters:{docs:{description:{component:"A date picker helps users select a single date. Use this when users need to schedule or record an event and benefit from the context of a calendar. It can also be used when knowing the day of the week helps users choose a specific date."}}}},Template=({...rest})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_Datefield__WEBPACK_IMPORTED_MODULE_1__.t,{...rest});Template.displayName="Template";const PrimaryDatefield=Template.bind({});PrimaryDatefield.args={id:"primary",name:"primary",label:"Datefield"};const DefaultDatefield=Template.bind({});DefaultDatefield.args={value:"08/08/2022",id:"default",name:"default",label:"default"},DefaultDatefield.parameters={docs:{description:{story:"Default placeholder values can be given to inputs that could make selecting dates easier for our users"}}};const MinimumDateField=Template.bind({});MinimumDateField.args={minDate:"08/08/2022",id:"min-date",name:"min-date",label:"Minimum date"},MinimumDateField.parameters={docs:{description:{story:"A min date can be provided to prevent users from selecting a date before a certain date. The minimum date is 08/08/2022 here."}}};const MaximumDateField=Template.bind({});MaximumDateField.args={maxDate:"08/08/2022",id:"max-date",name:"max-date",label:"Maximum date"},MaximumDateField.parameters={docs:{description:{story:"A max date can be provided to prevent users from selecting a date after a certain date. The max date is 08/08/2022 here."}}},PrimaryDatefield.parameters={...PrimaryDatefield.parameters,docs:{...PrimaryDatefield.parameters?.docs,source:{originalSource:"({\n  ...rest\n}) => <Datefield {...rest} />",...PrimaryDatefield.parameters?.docs?.source}}},DefaultDatefield.parameters={...DefaultDatefield.parameters,docs:{...DefaultDatefield.parameters?.docs,source:{originalSource:"({\n  ...rest\n}) => <Datefield {...rest} />",...DefaultDatefield.parameters?.docs?.source}}},MinimumDateField.parameters={...MinimumDateField.parameters,docs:{...MinimumDateField.parameters?.docs,source:{originalSource:"({\n  ...rest\n}) => <Datefield {...rest} />",...MinimumDateField.parameters?.docs?.source}}},MaximumDateField.parameters={...MaximumDateField.parameters,docs:{...MaximumDateField.parameters?.docs,source:{originalSource:"({\n  ...rest\n}) => <Datefield {...rest} />",...MaximumDateField.parameters?.docs?.source}}};const __namedExportsOrder=["PrimaryDatefield","DefaultDatefield","MinimumDateField","MaximumDateField"]},"./src/components/Datefield/Datefield.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>Datefield});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils.tsx"),_node_modules_uswds_uswds_packages_usa_date_picker_src__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@uswds/uswds/packages/usa-date-picker/src/index.js"),_node_modules_uswds_uswds_packages_usa_date_picker_src__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_uswds_uswds_packages_usa_date_picker_src__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Datefield=({id,name,label,value,minDate,maxDate,hint=!0,disabled=!1,required=!1,...rest})=>{value=_utils__WEBPACK_IMPORTED_MODULE_3__.Sf.test(value||"")?value:"";const[dateError,setDateError]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),datePickerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((()=>{const datePickerElement=datePickerRef.current;if("function"==typeof _node_modules_uswds_uswds_packages_usa_date_picker_src__WEBPACK_IMPORTED_MODULE_1___default().on){_node_modules_uswds_uswds_packages_usa_date_picker_src__WEBPACK_IMPORTED_MODULE_1___default().on(datePickerElement);const dateFieldinput=Array.from(document.getElementsByClassName("usa-date-picker__external-input")).find((dateField=>dateField.id===id));dateFieldinput&&(dateFieldinput.addEventListener("keydown",(e=>filterInput(e))),dateFieldinput.addEventListener("blur",(e=>checkValidDate(e.target.value))))}return()=>{"function"==typeof _node_modules_uswds_uswds_packages_usa_date_picker_src__WEBPACK_IMPORTED_MODULE_1___default().off&&_node_modules_uswds_uswds_packages_usa_date_picker_src__WEBPACK_IMPORTED_MODULE_1___default().off(datePickerElement)}}),[value]);const filterInput=typedValue=>{typedValue&&_utils__WEBPACK_IMPORTED_MODULE_3__.d7.test(typedValue.key)||"Backspace"===typedValue.key||"Tab"===typedValue.key||typedValue.metaKey?setDateError(!1):typedValue.preventDefault()},checkValidDate=date=>{let[month,day,year]=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.gY)(date);_utils__WEBPACK_IMPORTED_MODULE_3__.Sf.test(date)&&(0,_utils__WEBPACK_IMPORTED_MODULE_3__.DD)(parseInt(month),parseInt(year),parseInt(day))||""===date?setDateError(!1):setDateError(!0)};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"usa-form-group datefield",ref:datePickerRef,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label",{className:"usa-label",id:`${id}-label`,htmlFor:id,children:label}),(hint||dateError)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"usa-hint"+(dateError?" input-error":""),id:`${id}-hint`,children:(dateError?"Inputted date must be a valid date in ":"")+"mm/dd/yyyy"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"usa-date-picker","data-min-date":void 0!==minDate&&(0,_utils__WEBPACK_IMPORTED_MODULE_3__.lz)(minDate),"data-max-date":void 0!==maxDate&&(0,_utils__WEBPACK_IMPORTED_MODULE_3__.lz)(maxDate),"data-default-value":(0,_utils__WEBPACK_IMPORTED_MODULE_3__.lz)(value),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{className:"usa-input",id,name,"aria-labelledby":`${id}-label`,"aria-describedby":hint?`${id}-hint`:`${id}-label`,disabled,...rest})})]})};Datefield.displayName="Datefield";try{Datefield.displayName="Datefield",Datefield.__docgenInfo={description:"Datefield Component",displayName:"Datefield",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},hint:{defaultValue:{value:"true"},description:"",name:"hint",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},minDate:{defaultValue:null,description:"",name:"minDate",required:!1,type:{name:"string"}},maxDate:{defaultValue:null,description:"",name:"maxDate",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Datefield/Datefield.tsx#Datefield"]={docgenInfo:Datefield.__docgenInfo,name:"Datefield",path:"src/components/Datefield/Datefield.tsx#Datefield"})}catch(__react_docgen_typescript_loader_error){}},"./src/utils.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DD:()=>checkValidMonthDays,Sf:()=>completeDateFilter,d7:()=>numbersAndSlashesFilter,gY:()=>splitDateIntoVariables,lz:()=>formatPropDates});const completeDateFilter=new RegExp(/^\d{2}\/\d{2}\/\d{4}$/),numbersAndSlashesFilter=new RegExp(/^[0-9/]+$/),checkValidMonthDays=(month,year,day)=>month>0&&month<=12&&((month,year)=>{switch(month){case 2:return year%4==0&&year%100||year%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}})(month,year)>=day&&day>0&&year>1900,splitDateIntoVariables=date=>date?date.split("/"):[],formatPropDates=date=>{let[month,day,year]=splitDateIntoVariables(date||"");if(date&&completeDateFilter.test(date)&&checkValidMonthDays(parseInt(month),parseInt(year),parseInt(day)))return`${year}-${month.padStart(2,"0")}-${day.padStart(2,"0")}`};try{splitDateIntoVariables.displayName="splitDateIntoVariables",splitDateIntoVariables.__docgenInfo={description:"",displayName:"splitDateIntoVariables",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.tsx#splitDateIntoVariables"]={docgenInfo:splitDateIntoVariables.__docgenInfo,name:"splitDateIntoVariables",path:"src/utils.tsx#splitDateIntoVariables"})}catch(__react_docgen_typescript_loader_error){}try{formatPropDates.displayName="formatPropDates",formatPropDates.__docgenInfo={description:"",displayName:"formatPropDates",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.tsx#formatPropDates"]={docgenInfo:formatPropDates.__docgenInfo,name:"formatPropDates",path:"src/utils.tsx#formatPropDates"})}catch(__react_docgen_typescript_loader_error){}}}]);